name: ğŸ¤– Auto Respond [Issues|PRs]â„¹ï¸
on:
  issues:
    types: [opened]
  pull_request:
    types: [opened]

permissions:
  contents: read
  issues: write
  pull-requests: write

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - name: Create Comment
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            const { owner, repo } = context.repo;
            const issueNumber = context.issue.number || context.pullRequest.number;
            const isIssue = context.eventName === 'issues';
            
            const responseMessage = isIssue
              ? `ğŸ¤– **Automated Issue Response**
                
                Thanks for creating this issue!
                
                **Quick Details:**
                - ğŸ“‹ We'll review your issue shortly
                - ğŸ•’ Typical response time is 12-24 hours
                
                Want faster resolution or more community support?
                
                **Join Our Discord:** https://discord.gg/djJUs48Zbu
                
                Connect directly with our team, get quicker responses, and engage with our community!`
              : `ğŸ¤– **Automated Pull Request Response**
                
                Thanks for submitting this pull request!
                
                **Quick Details:**
                - ğŸ“‹ We'll review your PR shortly
                - ğŸ•’ Typical review time is 12-24 hours
                
                Want faster resolution or more community support?
                
                **Join Our Discord:** https://discord.gg/djJUs48Zbu
                
                Connect directly with our team, get quicker responses, and engage with our community!`;
            
            try {
              if (isIssue) {
                await github.rest.issues.createComment({
                  owner,
                  repo,
                  issue_number: issueNumber,
                  body: responseMessage
                });
              } else {
                await github.rest.pulls.createReviewComment({
                  owner,
                  repo,
                  pull_number: issueNumber,
                  body: responseMessage
                });
              }
              console.log(`Successfully created comment on ${isIssue ? 'issue' : 'pull request'} #${issueNumber}`);
            } catch (error) {
              console.error('Failed to create comment:', error);
              throw error;
            }
